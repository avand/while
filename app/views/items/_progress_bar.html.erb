<% total = item.descendants.not_archived.count %>
<% completed = item.descendants.completed.not_archived.count %>

<div class="item-progress <%= "hidden" if total.zero? -%>"
     style="width: <%= progress_bar_width total -%>%;
            <%= "background-color: #{item.color}" if item.color.present? -%>;">
  <div class="item-progress-bar"
       style="width: <%= ((completed / total.to_f) * 100).round rescue 0 %>%;">
  </div>

  <div class="item-progress-label hidden">
    <%= completed -%> / <%= total -%>
  </div>
</div>
