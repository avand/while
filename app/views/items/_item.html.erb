<div class="item" data-item-id="<%= item.id -%>">
  <span class="item-checkbox left">
    <% if item.descendants.present? %>
      <i class="item-checkbox-disabled unclickable fa fa-square-o"></i>
    <% else %>
      <%= link_to check_item_path(item), method: :patch do %>
        <% if item.completed? %>
          <i class="item-checkbox-checked clickable fa fa-check-square-o"></i>
        <% else %>
          <i class="item-checkbox-active clickable fa fa-square-o"></i>
        <% end %>
      <% end %>
    <% end %>
  </span>

  <small class="item-controls right">
    <%= link_to edit_item_path(item), class: "no-underline" do %>
      <i class="fa fa-fw fa-pencil"></i>
    <% end %>

    <%= link_to item_path(item),
                method: :delete,
                class: "no-underline",
                data: { confirm: "Are you sure?" } do %>
      <i class="fa fa-fw fa-trash"></i>
    <% end %>
  </small>

  <span class="item-name block <%= 'strikethrough' if item.completed? -%>">
    <%= link_to item.name, items_path(item), class: "medium-weight" %>
    <% if item.descendants.present? %>
      (<%= item.descendants.completed.count %>/<%= item.descendants.count %>)
    <% end %>
  </span>
</div>
